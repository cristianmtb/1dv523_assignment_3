(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{13:function(e,t,s){},14:function(e,t,s){},15:function(e,t,s){"use strict";s.r(t);var a=s(0),n=s.n(a),i=s(7),o=s.n(i),c=(s(13),s(1)),r=s(2),u=s(4),l=s(3),m=s(5),d=(s(14),function(e){function t(e){var s;return Object(c.a)(this,t),(s=Object(u.a)(this,Object(l.a)(t).call(this,e))).time=new Date,s}return Object(m.a)(t,e),Object(r.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"Notification"},this.props.message,n.a.createElement("div",{className:"Line"}),n.a.createElement("div",{className:"Notif-time"},this.time.toUTCString()))}}]),t}(n.a.Component)),h=function(e){function t(e){var s;return Object(c.a)(this,t),(s=Object(u.a)(this,Object(l.a)(t).call(this,e))).socket=new WebSocket("ws:46.101.156.130:80"),s.socket.addEventListener("message",(function(e){return s.receive(e)})),s.state={notifs:[],issues:[],notification:{active:!1,message:""}},s}return Object(m.a)(t,e),Object(r.a)(t,[{key:"receive",value:function(e){var t=JSON.parse(e.data);"initial"===t.type?this.setState({issues:t.data}):"update"===t.type?(this.notifyUpdate(t.data),this.update(t.data)):"comment"===t.type&&this.notifyComment(t.data)}},{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement("div",{className:"Issue-div"},n.a.createElement("h1",null,"Issues:"),this.state.issues.map((function(e){return n.a.createElement("div",{key:e.id,className:"Issue"},n.a.createElement("h3",null,e.title," #",e.id),n.a.createElement("a",{href:e.url},"Go to Issue"),n.a.createElement("p",null,"Author: ",e.author),n.a.createElement("div",{className:"Line"}),n.a.createElement("div",{className:"BodyTitle"},"Body:"),e.body,n.a.createElement("div",{className:"Line"}),"Number of comments: ",e.comments)}))),n.a.createElement("div",{className:"Notification-Div"},n.a.createElement("h1",null,"Notifications:"),this.state.notifs.map((function(e){return n.a.createElement(d,{key:e,message:e})}))))}},{key:"update",value:function(e){switch(e.action){case"opened":case"reopened":this.addIssue(e);break;case"closed":this.removeIssue(e);break;case"edited":this.editIssue(e)}}},{key:"addIssue",value:function(e){var t=this.state.issues;t.push({id:e.id,title:e.title,url:e.url,auhtor:e.auhtor,body:e.body,comments:e.comments}),this.setState({issues:t})}},{key:"removeIssue",value:function(e){var t=this.state.issues,s=t.findIndex((function(t){return t.id===e.id}));t.splice(s,1),this.setState({issues:t})}},{key:"editIssue",value:function(e){var t=this.state.issues,s=t.findIndex((function(t){return t.id===e.id}));t[s]={id:e.id,title:e.title,url:e.url,auhtor:e.auhtor,body:e.body,comments:e.comments},this.setState({issues:t})}},{key:"notifyComment",value:function(e){var t="A comment has been ".concat(e.action," to issue number ").concat(e.issue),s=this.state.notifs;s.push(t);var a=this.state.issues,n=a.findIndex((function(t){return t.id===e.issue}));"deleted"===e.action?a[n].comments--:"created"===e.action&&a[n].comments++,this.setState({issues:a,notifs:s})}},{key:"notifyUpdate",value:function(e){var t="Issue number ".concat(e.id," has been ").concat(e.action),s=this.state.notifs;s.push(t),this.setState({notifs:s})}}]),t}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(h,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},8:function(e,t,s){e.exports=s(15)}},[[8,1,2]]]);
//# sourceMappingURL=main.7cb2782d.chunk.js.map